(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{6839:function(e,t,n){"use strict";var i=n(5893),a=n(7294);t.Z=function(e){var t=e.children,n=e.className,r=(0,a.useRef)();return(0,a.useEffect)((function(){function e(){r.current.style.height=window.innerHeight+"px"}return document.querySelector("html").classList.add(n),document.querySelector("body").classList.add(n),e(),window.addEventListener("resize",e),function(){document.querySelector("html").removeAttribute("class"),document.querySelector("body").removeAttribute("class"),window.removeEventListener("resize",e)}}),[]),(0,i.jsx)("div",{className:"wrap",ref:r,children:t})}},5542:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var i="/xr-global"},2167:function(e,t,n){"use strict";var i=n(3038);t.default=void 0;var a,r=(a=n(7294))&&a.__esModule?a:{default:a},s=n(1063),c=n(4651),o=n(7426);var l={};function d(e,t,n,i){if(e&&s.isLocalURL(t)){e.prefetch(t,n,i).catch((function(e){0}));var a=i&&"undefined"!==typeof i.locale?i.locale:e&&e.locale;l[t+"%"+n+(a?"%"+a:"")]=!0}}var u=function(e){var t,n=!1!==e.prefetch,a=c.useRouter(),u=r.default.useMemo((function(){var t=s.resolveHref(a,e.href,!0),n=i(t,2),r=n[0],c=n[1];return{href:r,as:e.as?s.resolveHref(a,e.as):c||r}}),[a,e.href,e.as]),v=u.href,f=u.as,h=e.children,m=e.replace,p=e.shallow,b=e.scroll,x=e.locale;"string"===typeof h&&(h=r.default.createElement("a",null,h));var g=(t=r.default.Children.only(h))&&"object"===typeof t&&t.ref,y=o.useIntersection({rootMargin:"200px"}),j=i(y,2),E=j[0],_=j[1],w=r.default.useCallback((function(e){E(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,E]);r.default.useEffect((function(){var e=_&&n&&s.isLocalURL(v),t="undefined"!==typeof x?x:a&&a.locale,i=l[v+"%"+f+(t?"%"+t:"")];e&&!i&&d(a,v,f,{locale:t})}),[f,v,_,x,n,a]);var N={ref:w,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,n,i,a,r,c,o){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(n))&&(e.preventDefault(),null==c&&i.indexOf("#")>=0&&(c=!1),t[a?"replace":"push"](n,i,{shallow:r,locale:o,scroll:c}))}(e,a,v,f,m,p,b,x)},onMouseEnter:function(e){s.isLocalURL(v)&&(t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),d(a,v,f,{priority:!0}))}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var k="undefined"!==typeof x?x:a&&a.locale,H=a&&a.isLocaleDomain&&s.getDomainLocale(f,k,a&&a.locales,a&&a.domainLocales);N.href=H||s.addBasePath(s.addLocale(f,k,a&&a.defaultLocale))}return r.default.cloneElement(t,N)};t.default=u},7426:function(e,t,n){"use strict";var i=n(3038);Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!s,o=a.useRef(),l=a.useState(!1),d=i(l,2),u=d[0],v=d[1],f=a.useCallback((function(e){o.current&&(o.current(),o.current=void 0),n||u||e&&e.tagName&&(o.current=function(e,t,n){var i=function(e){var t=e.rootMargin||"",n=c.get(t);if(n)return n;var i=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return c.set(t,n={id:t,observer:a,elements:i}),n}(n),a=i.id,r=i.observer,s=i.elements;return s.set(e,t),r.observe(e),function(){s.delete(e),r.unobserve(e),0===s.size&&(r.disconnect(),c.delete(a))}}(e,(function(e){return e&&v(e)}),{rootMargin:t}))}),[n,t,u]);return a.useEffect((function(){if(!s&&!u){var e=r.requestIdleCallback((function(){return v(!0)}));return function(){return r.cancelIdleCallback(e)}}}),[u]),[f,u]};var a=n(7294),r=n(3447),s="undefined"!==typeof IntersectionObserver;var c=new Map},9866:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var i=n(5893),a=n(7294),r=n(1664),s=n(5542),c=n(6839),o=n(3422),l=[1e3,1250,1300,1080,1080,1e3,1e3,1e5,1e5,1e5,1e5,1e5],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return e=e.map((function(e){return v(e)})),[{activate:!0,version:2,type:"video",title:"2 Hall",desc:"Discover EXO members who crash-landed into different planets.",src:s.E+"/video/video_7.mp4",thumb_src:s.E+"/images/thumb_Hall2_2.jpg",views:e[7],idx:7},{activate:!0,version:2,type:"video",title:"3 Hall",desc:"In the spaceship, check out behind the scenes of the music video and EXO members\u2019 photos.",src:s.E+"/video/video_8.mp4",thumb_src:s.E+"/images/thumb_Hall3_2.jpg",views:e[8],idx:8},{activate:!0,version:2,type:"video",title:"4 Hall",desc:"Find 7 EXO members in space.",src:s.E+"/video/video_9.mp4",thumb_src:s.E+"/images/thumb_Hall4_2.jpg",views:e[9],idx:9},{activate:!0,version:2,type:"video",title:"5 Hall",desc:"Check out EXO\u2019s photos and videos hanging all over the room.",src:s.E+"/video/video_10.mp4",thumb_src:s.E+"/images/thumb_Hall5_2.jpg",views:e[10],idx:10},{activate:!0,version:2,type:"video",title:"6 Hall",desc:"Check out\xa0EXO member photos\xa0with member\u2019s autographs especially for EXO-Ls!",src:s.E+"/video/video_11.mp4",thumb_src:s.E+"/images/thumb_Hall6_2.jpg",views:e[11],idx:11},{activate:!1,version:1,type:"video",title:"Lobby",desc:"Starting point of the journey through the EXO XR Gallery You may find EXO Greetings at the end of the video.",src:s.E+"/video/video_lobby.mp4",thumb_src:s.E+"/images/thumb_lobby.jpg",views:e[0],idx:0},{activate:!1,version:1,type:"video",title:"1 Hall",desc:"In a quiet space, meteors falling in front of us.",src:s.E+"/video/video_hall1.mp4",thumb_src:s.E+"/images/thumb_Hall1.jpg",views:e[1],idx:1},{activate:!1,version:1,type:"video",title:"2 Hall",desc:"Discover EXO members who crash-landed into different planets.",src:s.E+"/video/video_hall2.mp4",thumb_src:s.E+"/images/thumb_Hall2.jpg",views:e[2],idx:2},{activate:!1,version:1,type:"video",title:"3 Hall",desc:"In the spaceship, check out behind the scenes of the music video and EXO members\u2019 photos.",src:s.E+"/video/video_hall3.mp4",thumb_src:s.E+"/images/thumb_Hall3.jpg",views:e[3],idx:3},{activate:!1,version:1,type:"video",title:"4 Hall",desc:"Find 7 EXO members in space.",src:s.E+"/video/video_hall4.mp4",thumb_src:s.E+"/images/thumb_Hall4.jpg",views:e[4],idx:4},{activate:!1,version:1,type:"video",title:"5 Hall",desc:"Check out EXO\u2019s photos and videos hanging all over the room.",src:s.E+"/video/video_hall5.mp4",thumb_src:s.E+"/images/thumb_Hall5.jpg",views:e[5],idx:5},{activate:!1,version:1,type:"video",title:"6 Hall",desc:"Check out\xa0EXO member photos\xa0with member\u2019s autographs especially for EXO-Ls!",src:s.E+"/video/video_hall6.mp4",thumb_src:s.E+"/images/thumb_Hall6.jpg",views:e[6],idx:6}]},u=function(e){return 0!==e?d().filter((function(t){return t.version==e})):d()};function v(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var f=n(7704),h=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.gallery})),n=t.gallerys,a=t.galleryTabIndex,r=t.currentVideo,s=t.watchVideos,c=function(t){e({type:f.S9,data:u(t),idx:t})};return(0,i.jsxs)("div",{className:"gallery-list-wrap",children:[(0,i.jsx)("div",{className:"tab-button",children:(0,i.jsxs)("div",{className:"inner",children:[(0,i.jsx)("button",{type:"button",className:"tab-btn ".concat(0===a?"active":""),onClick:function(){c(0)},children:(0,i.jsx)("span",{children:"ALL"})}),(0,i.jsx)("button",{type:"button",className:"tab-btn ".concat(1===a?"active":""),onClick:function(){c(1)},children:(0,i.jsx)("span",{children:"Ver.1"})}),(0,i.jsx)("button",{type:"button",className:"tab-btn ".concat(2===a?"active":""),onClick:function(){c(2)},children:(0,i.jsx)("span",{children:"Ver.2"})})]})}),(0,i.jsx)("div",{className:"gallery-list",children:n.map((function(t,n){return(0,i.jsx)("li",{className:"list-item ".concat(t.activate?"":"disabled"," ").concat(t.idx===r.idx?"active":""," ").concat(s.includes(t.idx)?"checked":""),"data-video-title":t.title,"data-video-version":t.version,onClick:function(){var n;n=t.idx,e({type:f.rl,idx:n})},children:(0,i.jsx)("div",{className:"inner",children:(0,i.jsx)("button",{type:"button",className:"item-button",children:(0,i.jsxs)("div",{className:"f-box",children:[(0,i.jsx)("div",{className:"item-thumb",children:(0,i.jsx)("img",{src:t.thumb_src,alt:""})}),(0,i.jsxs)("div",{className:"item-info",children:[(0,i.jsxs)("div",{className:"title",children:[t.activate?(0,i.jsxs)("span",{className:"version",children:["Ver. ",t.version]}):null,t.title]}),(0,i.jsxs)("div",{className:"views",children:[t.views," views"]})]})]})})})},t.title+n)}))})]})},m=n(5348),p=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(-1!=a.indexOf(t))return a.substring(t.length,a.length)}return""},b=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.gallery})),n=t.activeData,r=t.currentVideo,s=t.watchVideos,c=(0,a.useState)(!1),l=c[0],d=c[1];(0,a.useEffect)((function(){s.length>0&&function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+a}("watchVideos",s.join(),1)}),[s]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"gallery-video",children:[(0,i.jsx)("div",{className:"video-wrap",children:(0,i.jsx)("video",{id:"video",type:"video/mp4",src:r.src,controls:!0,controlsList:"nodownload",playsInline:!0,autoPlay:!0,onEnded:function(){!function(t){var i=(0,m.Z)(s),a=t.idx;if(i.includes(a)){var c=i.indexOf(a);i.splice(c,1)}i.push(a),e({type:f.jx,data:i}),r.next&&e({type:f.rl,idx:r.next.idx});var o=!0;n.forEach((function(e){i.includes(e.idx)||(o=!1)})),o&&e({type:f.sR})}(r)}})}),(0,i.jsxs)("div",{className:"video-info ".concat(l?"active":null),onClick:function(){window.innerWidth<=1024&&d((function(e){return!e}))},children:[(0,i.jsx)("div",{className:"notice pc",children:"\u203b\xa0Notice : You can find hidden rewards if you complete watching Version 2 videos!"}),(0,i.jsx)("div",{className:"title",children:r.title}),(0,i.jsxs)("div",{className:"views",children:[r.views," views"]}),(0,i.jsx)("div",{className:"desc",children:r.desc})]})]}),(0,i.jsx)("div",{className:"notice m",children:"\u203b\xa0Notice : You can find hidden rewards if you complete watching Version 2 videos!"})]})},x=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.gallery})),n=t.currentVideo,l=t.activeData,d=t.watchVideos,v=t.completed,m=n.title,x=n.version,g=n.prev,y=n.next,j=function(t){e({type:f.rl,idx:t})};return(0,a.useEffect)((function(){if(p("watchVideos").length>0){var t=p("watchVideos").split(",").map((function(e){return parseInt(e)}));e({type:f.jx,data:t}),e({type:f.S9,data:u(0),idx:0}),e({type:f.rl,idx:t[t.length-1]})}else e({type:f.S9,data:u(0),idx:0}),e({type:f.rl,idx:7})}),[]),(0,a.useEffect)((function(){!d.length>0||d.length===l.length&&e({type:f.sR})}),[d]),(0,i.jsxs)(c.Z,{className:"gallery",children:[(0,i.jsxs)("header",{className:"header desktop",children:[(0,i.jsx)("div",{className:"title",children:(0,i.jsx)("img",{src:"".concat(s.E,"/images/gallery_logo.png"),alt:""})}),(0,i.jsx)(r.default,{href:"/",as:"".concat(s.E,"/"),children:(0,i.jsx)("a",{className:"btn-back"})}),(0,i.jsx)(r.default,{href:"/photocard",as:"".concat(s.E,"/photocard"),children:(0,i.jsx)("a",{className:"btn-next-page ".concat(v?"active":"")})})]}),(0,i.jsxs)("header",{className:"header portrait",children:[(0,i.jsx)("div",{className:"title",children:(0,i.jsx)("img",{src:"".concat(s.E,"/images/gallery_logo_m.png"),alt:""})}),(0,i.jsx)(r.default,{href:"/",as:"".concat(s.E,"/"),children:(0,i.jsx)("a",{className:"btn-back"})}),(0,i.jsx)(r.default,{href:"/photocard",as:"".concat(s.E,"/photocard"),children:(0,i.jsx)("a",{className:"btn-next-page ".concat(v?"active":"")})})]}),(0,i.jsxs)("header",{className:"header landscape",children:[(0,i.jsx)("div",{className:"title",children:"".concat(m," ").concat(2==x?"(Ver.2)":"")}),g?(0,i.jsx)("button",{type:"button",className:"btn-prev",onClick:function(){j(g.idx)},children:"< ".concat(g.title)}):null,y?(0,i.jsx)("button",{type:"button",className:"btn-next",onClick:function(){j(y.idx)},children:"".concat(y.title," >")}):null,!y&&v?(0,i.jsx)(r.default,{href:"/photocard",as:"".concat(s.E,"/photocard"),children:(0,i.jsx)("a",{className:"btn-next",children:"next >"})}):null]}),(0,i.jsxs)("div",{className:"gallery-content",children:[(0,i.jsx)(b,{}),(0,i.jsx)(h,{})]})]})}},7899:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return n(9866)}])},1664:function(e,t,n){e.exports=n(2167)},5348:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return a}})}},function(e){e.O(0,[774,888,179],(function(){return t=7899,e(e.s=t);var t}));var t=e.O();_N_E=t}]);